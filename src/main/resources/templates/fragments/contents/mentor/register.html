<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="/js/library/jquery/jquery-3.7.1.min.js"></script>
</head>
<body>
<div class="container">
  <form action="/mentors" method="post">
    <h2 style="font-weight:700; color:#fff; text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;">
      ğŸ€ë©˜í†  ë“±ë¡ í˜ì´ì§€ğŸ€</h2>
    <div>
      <label class="form-label" for="companyEmail">ì´ë©”ì¼</label>
      <input id="companyEmail" name="companyEmail" placeholder="companyEmail" type="email">
      <button id="btnEmailSend"
              style="background-color: rgb(255, 144, 202); color:white;">SEND EMAIL
      </button>
    </div>
    <div>
      <label class="form-label" for="emailCheck">ì´ë©”ì¼ ì¸ì¦</label>
      <input id="emailCheck" name="emailCheck" placeholder="emailCheck" type="text">
      <button id="btnEmailCheck"
              style="background-color: rgb(255, 144, 202); color:white;">VERIFY EMAIL
      </button>
    </div>

    <div>
      <label class="form-label"> ê²½ë ¥ <br>
        <input name="career" type="radio" value="JUNIOR"> 1~3ë…„ì°¨ <br>
        <input name="career" type="radio" value="MIDDLE"> 4~6ë…„ì°¨ <br>
        <input name="career" type="radio" value="SENIOR"> 7~9ë…„ì°¨ <br>
        <input name="career" type="radio" value="LEADER"> 10ë…„ ì´ìƒ
      </label>
    </div>
    <div>
      <label class="form-label">ì€í–‰ëª…
        <select id="bankName" name="bankName">
          <option value=''>-ì„ íƒ-</option>

          <option value='SCì œì¼ì€í–‰'>SCì œì¼ì€í–‰</option>

          <option value='ê²½ë‚¨ì€í–‰'>ê²½ë‚¨ì€í–‰</option>

          <option value='ê´‘ì£¼ì€í–‰'>ê´‘ì£¼ì€í–‰</option>

          <option value='êµ­ë¯¼ì€í–‰'>êµ­ë¯¼ì€í–‰</option>

          <option value='ê¸°ì—…ì€í–‰'>ê¸°ì—…ì€í–‰</option>

          <option value='ë†í˜‘ì¤‘ì•™íšŒ'>ë†í˜‘ì¤‘ì•™íšŒ</option>

          <option value='ëŒ€êµ¬ì€í–‰'>ëŒ€êµ¬ì€í–‰</option>

          <option value='ë¶€ì‚°ì€í–‰'>ë¶€ì‚°ì€í–‰</option>

          <option value='ì‚°ì—…ì€í–‰'>ì‚°ì—…ì€í–‰</option>

          <option value='ìƒí˜¸ì‹ ìš©ê¸ˆê³ '>ìƒí˜¸ì‹ ìš©ê¸ˆê³ </option>

          <option value='ìƒˆë§ˆì„ê¸ˆê³ '>ìƒˆë§ˆì„ê¸ˆê³ </option>

          <option value='ìˆ˜í˜‘ì¤‘ì•™íšŒ'>ìˆ˜í˜‘ì¤‘ì•™íšŒ</option>

          <option value='ì‹ í•œì€í–‰'>ì‹ í•œì€í–‰</option>

          <option value='ì‹ í˜‘ì¤‘ì•™íšŒ'>ì‹ í˜‘ì¤‘ì•™íšŒ</option>

          <option value='ì™¸í™˜ì€í–‰'>ì™¸í™˜ì€í–‰</option>

          <option value='ìš°ë¦¬ì€í–‰'>ìš°ë¦¬ì€í–‰</option>

          <option value='ìš°ì²´êµ­'>ìš°ì²´êµ­</option>

          <option value='ì „ë¶ì€í–‰'>ì „ë¶ì€í–‰</option>

          <option value='ì œì£¼ì€í–‰'>ì œì£¼ì€í–‰</option>

          <option value='í•˜ë‚˜ì€í–‰'>í•˜ë‚˜ì€í–‰</option>

          <option value='í•œêµ­ì”¨í‹°ì€í–‰'>í•œêµ­ì”¨í‹°ì€í–‰</option>

          <option value='í™ì½©ìƒí•˜ì´ì€í–‰'>í™ì½©ìƒí•˜ì´ì€í–‰</option>
        </select>
      </label>
    </div>
    <div>
      <label class="form-label" for="accountNumber">ê³„ì¢Œë²ˆí˜¸
        <input id="accountNumber" name="accountNumber" placeholder="ê³„ì¢Œë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”." type="text">
      </label>
    </div>
    <div>
      <label class="form-label" for="accountName">ê³„ì¢Œ ì†Œìœ ì£¼</label>
      <input id="accountName" name="accountName" placeholder="ê³„ì¢Œ ì†Œìœ ì£¼ëª…ì„ ì…ë ¥í•˜ì„¸ìš”." type="text">
    </div>
    <div>
      <button id="btnSubmit"
              style="background-color: rgb(255, 144, 202); color:white;">submit
      </button>
    </div>
  </form>
</div>
</body>
<script>
  let emailVerified = false;
  const bankName = $("#bankName");
  $("#btnEmailSend").on("click", function (e) {
    $.ajax({
      url: "/mentors/register/email/send",
      data: {
        receiver: $("#companyEmail").val(),
      },
      method: "post",
      success: function (data) {
        console.log(data);
        if (data === "success") {
          alert("ì´ë©”ì¼ì„ ì „ì†¡í•˜ì˜€ìŠµë‹ˆë‹¤.");
        } else {
          alert("ì´ë©”ì¼ ì „ì†¡ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤");
        }
      },
      complete: function (data) {
        console.log("complete");
        console.log(data);
      },
    });
    return false;
  });

  $("#btnEmailCheck").on("click", function (e) {
    $.ajax({
      url: "/mentors/register/email/auth",
      data: {
        userEmailCode: $("#emailCheck").val(),
      },
      method: "post",
      success: function (data) {
        console.log(data);
        if (data === "success") {
          alert("ì´ë©”ì¼ ì¸ì¦ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤.");
          emailVerified = true;
          // ë‚˜ì¤‘ì— ì´ë©”ì¼ ì“´ ì¹¸ë„ readonlyë¡œ ë°”ê¾¸ê¸°
          $("#btnEmailSend").attr("disabled", true);
          $("#btnEmailCheck").attr("disabled", true);
        } else {
          alert("ì´ë©”ì¼ ì¸ì¦ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤.");
        }
      },
      complete: function (data) {
        console.log("complete");
        console.log(data);
      },
    });
    return false;
  });
  $("#btnSubmit").on("click", function (e) {
    if ($("#companyEmail").val() === "") {
      alert("ì´ë©”ì¼ ì…ë ¥ì€ í•„ìˆ˜ì‚¬í•­ì´ì—ìš”.");
      return false;
    }
    if (emailVerified === false) {
      alert("ì´ë©”ì¼ ì¸ì¦ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”.");
      return false;
    }
    if ($(':radio[name="career"]:checked').length < 1) {
      alert("ì•„ì§ ê²½ë ¥ì„ ì…ë ¥í•˜ì§€ ì•Šìœ¼ì…¨ë„¤ìš”.");
      return false;
    }
    if (bankName.val() === "") {
      alert("ë³¸ì¸ ê³„ì¢Œì˜ ì€í–‰ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
      return false;
    }
    if (accountNumber.val() === "") {
      alert("ë³¸ì¸ ì†Œìœ ì˜ ê³„ì¢Œë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
      return false;
    }
    if (accountName.val() === "") {
      alert("ê³„ì¢Œ ì†Œìœ ìì˜ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
      return false;
    }
  });
</script>
</html>